#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define MAX_TASKS 100
#define MAX_LEN 100

typedef struct {
    char name[MAX_LEN];
} Task;

Task tasks[MAX_TASKS];
int taskCount = 0;

void Add_Task(const char *taskName) {
    if (taskCount >= MAX_TASKS) {
        printf("Task list is full!\n");
        return;
    }
    strncpy(tasks[taskCount].name, taskName, MAX_LEN - 1);
    tasks[taskCount].name[MAX_LEN - 1] = '\0'; 
    taskCount++;
    printf("Task added: %s\n", taskName);
}

void List_all_Tasks() {
    if (taskCount == 0) {
        printf("No tasks found.\n");
        return;
    }
    printf("Tasks:\n");
    for (int i = 0; i < taskCount; i++) {
        printf("%d. %s\n", i + 1, tasks[i].name);
    }
}

void Delete_Task(int index) {
    if (index < 1 || index > taskCount) {
        printf("Invalid task number!\n");
        return;
    }
    printf("Deleted task: %s\n", tasks[index - 1].name);
    for (int i = index - 1; i < taskCount - 1; i++) {
        tasks[i] = tasks[i + 1];
    }
    taskCount--;
}

int main(void) {
    printf(
        "/__   \\__ _ ___| | __    /\\/\\   __ _ _ __   __ _  __ _  ___ _ __ \n"
        "  / /\\/ _` / __| |/ /   /    \\ / _` | '_ \\ / _` |/ _` |/ _ \\ '__|\n"
        " / / | (_| \\__ \\   <   / /\\/\\ \\ (_| | | | | (_| | (_| |  __/ |   \n"
        " \\/   \\__,_|___/_|\\_\\  \\/    \\/\\__,_|_| |_|\\__,_|\\__, |\\___|_|   \n"
        "                                                 |___/            \n"
    );

    char input[20], name[MAX_LEN];
    int exitFlag = 0;

    while (!exitFlag) {
        printf("\n1. Add Task\n");
        printf("2. Delete Task\n");
        printf("3. List Tasks\n");
        printf("4. Exit\n");
        printf("Enter your choice: ");

        scanf("%s", input);           
        int choice = atoi(input);     
        
        if (choice < 1 || choice > 4) {
            printf("Invalid input! Please enter a number 1-4.\n");
            continue;
        }

        switch(choice) {
            case 1:
                printf("Enter Task Name: ");
                scanf("%s", name);
                Add_Task(name);
                break;
            case 2:
                List_all_Tasks();
                printf("Enter task number to delete: ");
                scanf("%s", input);
                Delete_Task(atoi(input));
                break;
            case 3:
                List_all_Tasks();
                break;
            case 4:
                exitFlag = 1;
                printf("Exiting...\n");
                break;
        }
    }

    return 0;
}
